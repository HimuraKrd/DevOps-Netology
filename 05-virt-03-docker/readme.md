# Домашнее задание к занятию "5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"

## Задача 1: Сценарий выполения задачи:

* создайте свой репозиторий на https://hub.docker.com;
* выберете любой образ, который содержит веб-сервер Nginx;
* создайте свой fork образа;
* реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:

``` html
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.  
  
Для теста использовал следующие команды:  
* скачал официальный образ, используя docker pull nginx
* создал html страницу, с указанным кодом
* запусил контейнер, используя команду ``[Himura@fedora task1]$ sudo docker run -d -p 8080:80 --name nginx_netology -v $PWD:/usr/share/nginx/html nginx``

После того, как проверил, что задача реализована приступил к сборке простого docker image:  
```dockerfile 
FROM nginx
COPY . /usr/share/nginx/html
ENTRYPOINT ["nginx", "-g", "daemon off;"]
```  
Т.к. нужно прокинуть лишь один файл, то использовал `` . `` в коде. Полученный образ залил на докер хаб : [доступ по ссылке](https://hub.docker.com/r/mbagirov/nginx-netology)

## Задача 2: Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?" Детально опишите и обоснуйте свой выбор.
  
--
  
Сценарий:  
* Высоконагруженное монолитное java веб-приложение;

Для данного сценария я бы предпочёл использовать физическую машину, чтобы уменьшить число слоёв и ускорить работу системы.
* Nodejs веб-приложение;

Для данного сценария подойдут все 3 варианта, но полная виртуализация кажется мне избыточной. Но самый простой и локаничный - использование Docker контейнеров.

* Мобильное приложение c версиями для Android и iOS;
Для данного сценария, как и для предыдущего, полная виртуализация избыточна. Поэтому подойдёт вариант docker и виртуальная машина. Также контейнеры позволят достичь идемпотентности, что отлично подойдёт для тестирования.

* Шина данных на базе Apache Kafka;

Гугл подсказал, что реализация через Docker контейнеры более чем жизнеспособна, поэтому варианты с виртуальной машиной и docker-образами подойдут. Также для этого решения имеет смысл задумываться о быстрой масштабируемости и оркестрации.
* Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;

Для данного сценария отлично подойдёт Docker-контейнерезация
* Мониторинг-стек на базе Prometheus и Grafana;

Для данного сценария отлично подойдёт Docker-контейнерезация
* MongoDB, как основное хранилище данных для java-приложения;

Для работы баз данных лучше подойдёт полная виртуализация для улучшения производительности
* Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

Для данного сценария возможны все 3 варианта, но лучше использовать докер образы. 
## Задача 3: Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера; Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера; Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data; Добавьте еще один файл в папку /data на хостовой машине; Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.

## Задача 4: Воспроизвести практическую часть лекции самостоятельно. Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.
