# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

## 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
Для этого есть множество команд. Например ``ip a``, ``ip -c -br link`` (рассмотренный в лекции), ``netstat -i``  (после установки ``net-tools``) и т.д. В Windows чаще всего используется ``ipconfig`` с различными флагами и доп параметрами. 

## 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
Проприетарный ``cdp``, созданный CISCO, а также ``LLDP``, который используется повсеместно. Для работы в Linux нужно установить пакет lldpd ``apt install lldpd``. После установки команда ``lldpctl`` выдаст список устройств.

## 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
Для этого используется VLAN-ы. В Linux надо установить соответствующий пакет ``apt install vlan``. Пример конфига:  
``##vlan с ID-100 для интерфейса eth0 with ID - 100##``  
``auto eth0.100``  
``iface eth0.100 inet static``  
``address 192.168.1.200``  
``netmask 255.255.255.0``  
``vlan-raw-device eth0``  

## 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
Агрегация каналов в Linux - Linux Bonding. Типы агрегации - статическая и динамическая. Бондинг может работать в следующих режимах: ``0 - balance-rr - (round-robin)``, ``1 - active-backup``, ``2 - balance-xor``, ``3 - broadcast``, ``4 - 802.3ad``, ``5 - balance-tlb`` и ``6 - balance-alb``. Для включения бондинга меняется файл с интерфейсами ``/etc/network/interfaces``:  
``iface bond0 inet static``  
``address 10.10.2.36``  
``netmask 255.255.255.0``  
``network 10.10.2.0``  
``gateway 10.10.2.254``  
После чего редактируется файл ``/etc/modprobe.d/arch/i386:``  
``alias bond0 bonding``  
``options bonding mode=5 miimon=100 downdelay=200 updelay=200``  
И указываются настройки сети:  
``# update-modules``  
``# ifdown eth0 eth1``  
``# ifup bond0``  
``# /etc/init.d/networking restart``  
Либо можно добавить в ``interfaces`` нужные параметры:  
``bond_mode balance-tlb``  
``bond_miimon 100``  
``bond_downdelay 200``  
``bond_updelay 200``  
``slaves eth0 eth1``

## 5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
Установив, и используя ``ipcalc``, получим вывод:  
![task5](https://user-images.githubusercontent.com/68470186/133195741-a3b850e8-3142-49f1-8781-1d726d8edd9a.png)  
С маской /29 мы получим 6 хостов. Cеть суммарно будет содержать 8 адресов (включая адрес сети и широковещательный адрес). Итого 256/8 = 32 сети, если я правильно понял задачу.  Примеры 10.10.10.0/29, 10.10.10.8/29, 10.10.10.16/29, 10.10.10.24/29, 10.10.10.32/29 и так далее.


## 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
Из подсети 100.64.0.0/26. Но, возможно, я не понял формулировку задания...


## 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
Посмотреть arp таблицу можно при помощи ``arp``, дополняя команду различными флагами. Удалить кэш полностью можно при помощи ``ip -s -s neigh flush all``, удалить только один нужный IP - при помощи флага -d ``arp -d IP_address``.
