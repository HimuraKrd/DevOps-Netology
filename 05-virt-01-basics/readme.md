# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1: Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
Основная разница в типе хоста, используемого для виртуализации и типах виртуальных машин.  
При полной виртуализации ОС не требуется, т.к. гипервизор сам является ОС. При паравиртуализации необходимо наличие операционной системы на хосте, в рамках которого запускаются виртуальные машины. При этом ядро виртуалок модифицируется для предоставления им доступа к ресурсам хоста. При виртуализации на основе ОС отдельно выделенный гипервизор не требуется. Каждая машина запускается в полностью изолированной среде (неймспейсе) и делит ресурсы хоста.


## Задача 2: Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:  
* физические сервера
* паравиртуализация
* виртуализация уровня ОС

Условия использования:  
* Высоконагруженная база данных, чувствительная к отказу.
* Различные web-приложения.
* Windows системы для использования бухгалтерским отделом.
* Системы, выполняющие высокопроизводительные расчеты на GPU.  
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.  

``Высокоуровневая база данных, чувствительная к отказу``  
Я думаю, что в данном случае лучшим решением будет использование полной, аппаратной виртуализации. При таком способе мы убираем все прослойки в виде дополнительных слоёв ОС и получаем максимально живучий и быстрый механизм работы.  
``Различные web-приложения``  
Здесь я бы предпочёл использовать виртуализацию на основе ОС. Самым лёгким решением является использование docker-контейнеров, позволяющих в кратчайшие сроки разворачивать среды для тестирования изменений в коде.  
``Windows систем для использования бухгалтерским отделом``  
С поправкой на бухгалтерский отдел выберу паравиртуализацию, на основе привычного всем Hyper-V, чтобы от Linux-систем у бухгалтерии не вставали волосы дыбом :-) Также при таком типе виртуализации мы легко сможем настраивать систему активации различного рода приложений и интеграций лицензионных ключей, что упростит жизнь каждому участнику процесса.  
``Системы, выполняющие высокопроизводительные расчёты на GPU``  
Для данного сценария я бы разворачивал либо полную аппаратную виртуализацию, либо паравиртуализацию (в случае, если поддерживается) для более простого расшаривания аппаратных ресурсов (GPU).

## Задача 3: Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:  
100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  
Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.  
Для данного сценария я бы выбрал Proxmox, использующий KVM, а не QEMU образы. Почему так:  
* Proxmox бесплатен
* Поддерживает множество интересных решений, включая кластеризацию и миграцию в облака
* Эмулирует как Linux, так и Windows системы
* Относительно прост в освоении и не требует глубокой технической специализации для входа в работу


## Задача 4: Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
Для минимизации рисков лучше не использовать гетерогенную среду. Она требует наличия инженеров, обладающих компетенциями в определённых решениях для их поддержки. В случае, если инженер покидает команду после длительного срока поддержки - достаточно проблематично найти специалиста, который в короткие сроки смог бы перехватить поддержку на должном уровне. Также при необходимости миграции виртуалок в облака или между ЦОДами возможны проблемы с подготовкой окружения под разные среды виртуализации. 
